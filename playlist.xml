<?xml version="1.0" encoding="utf-8"?>
<ximpel>
    <playlist>
    : Intro
    <variable id="water" operation="set" value="0" />
    <variable id="sun" operation="set" value="0" />
    <variable id="plant" operation="set" value="0" />
    <subject id="intro">
        <media>
                <image src="media/intro.png">
                    <overlay text="Introduction" textfont="Petita" textColor="white" height="90px" width="300px" leadsTo="intro-video" x="30px" y="950px" backgroundColor=""/>
                    <overlay text="Start game" textfont="Petita" textColor="white" height="90px" width="300px" leadsTo="character" x="1580px" y="950px" backgroundColor=""/>
                </image>
                
        </media>
    </subject>

    : Introduction  video
    <subject id="intro-video" leadsTo="intro">
        <media>
            <video>
                <source file="media/intro_tribute_to_nature" extensions="mp4,webm" types="video/mp4,video/webm" />
            </video>
        </media>
    </subject>

    : Character
    <subject id="character">
        <media>
            <image src="media/novice.png" width="1920px" height="1080px">
                <overlay text="Next" textfont="Petita" textColor="gray" leadsTo="easy" height="90px" width="200px" x="1700px" y="940px" backgroundColor="white"/>
            </image>
        </media>
    </subject>

    : Easy level
    <subject id="easy">
        <media>
            <image src="media/easy_level.png" duration="5">
                : Pick cilantro
                <overlay height="470" width="400px" leadsTo="water" x="220" y="315px" backgroundColor="#ffffff">
                    <variable id="plant" operation="set" value="1"/>
                </overlay>

                : Pick basil
                <overlay height="470" width="400px" leadsTo="water" x="780" y="315px" backgroundColor="#ffffff">
                    <variable id="plant" operation="set" value="2"/>
                </overlay>

                : Pick oregano
                <overlay height="470" width="400px" leadsTo="water" x="1350" y="315px" backgroundColor="#ffffff">
                    <variable id="plant" operation="set" value="3"/>
                </overlay>
            </image>
        </media>
    </subject>

    : Intermediate level
    <subject id="intermediate">
      <media>
        <image src="media/easy_level.png" duration="5">
          : Pick plant 4 (medium)
          <overlay height="400" width="400px" leadsTo="water" x="340" y="290px" backgroundColor="#ffffff">
            <variable id="plant" operation="set" value="1"/>
          </overlay>
          : Pick plant 5 (medium)
          <overlay height="400" width="400px" leadsTo="water" x="760" y="290px" backgroundColor="#ffffff">
            <variable id="plant" operation="set" value="2"/>
          </overlay>
          : Pick plant 6 (medium)
          <overlay height="400" width="400px" leadsTo="water" x="1180" y="290px" backgroundColor="#ffffff">
            <variable id="plant" operation="set" value="3"/>
          </overlay>
        </image>
      </media>
    </subject>

    : Hard level
    <subject id="hard">
      <media>
        <image src="media/pick_a_hero.png" duration="5">
          : Pick plant 7 (hard)
          <overlay height="400" width="400px" leadsTo="water" x="340" y="290px" backgroundColor="#ffffff">
            <variable id="plant" operation="set" value="1"/>
          </overlay>
          : Pick plant 8 (hard)
          <overlay height="400" width="400px" leadsTo="water" x="760" y="290px" backgroundColor="#ffffff">
            <variable id="plant" operation="set" value="2"/>
          </overlay>
          : Pick plant 9 (hard)
          <overlay height="400" width="400px" leadsTo="water" x="1180" y="290px" backgroundColor="#ffffff">
            <variable id="plant" operation="set" value="3"/>
          </overlay>
        </image>
      </media>
    </subject>

    : Give water
    <subject id="water">
      <media>
        <image src="media/give_water.png">
          : Pick amount of water: small
          <overlay height="370" width="220px" leadsTo="sun" x="250" y="400px" backgroundColor="#ffffff">
            <score id="water" operation="set" value="1"/>
          </overlay>
          : Pick amount of water: medium
          <overlay height="370" width="350px" leadsTo="sun" x="780" y="400px" backgroundColor="#ffffff">
            <score id="water" operation="set" value="2"/>
          </overlay>
          : Pick amount of water: big
          <overlay height="370" width="500px" leadsTo="sun" x="1290" y="400px" backgroundColor="#ffffff">
            <score id="water" operation="set" value="3"/>
          </overlay>
        </image>
      </media>
    </subject>

    : Give sun
    <subject id="sun">
      <media>
        <image src="media/give_sun.png">
          : Pick amount of sun: small
          <overlay height="370" width="220px" leadsTo="test" x="250" y="400px" backgroundColor="#ffffff">
            <score id="sun" operation="set" value="1"/>
          </overlay>
          : Pick amount of sun: medium
          <overlay height="370" width="350px" leadsTo="test" x="780" y="400px" backgroundColor="#ffffff">
            <score id="sun" operation="set" value="2"/>
          </overlay>
          : Pick amount of sun: big
          <overlay height="370" width="500px" leadsTo="test" x="1290" y="400px" backgroundColor="#ffffff">
            <score id="sun" operation="set" value="3"/>
          </overlay>
        </image>
      </media>
    </subject>

    <subject id="test" leadsTo="test">
        <!--
        <leadsTo subject="soaked" condition="{{plant}} == 1 &amp;&amp; {{water}} > 1" />
        <leadsTo subject="withered" condition="{{plant}} == 1 &amp;&amp; {{sun}} > 1" />
        <leadsTo subject="perfect" condition="{{plant}} == 1" />
        -->
        <leadsTo subject="basil-perfect" condition="{{plant}} == 2 &amp;&amp; {{water}} = 2 &amp;&amp; {{sun}} = 2"/>
        <leadsTo subject="basil-soaked" condition="{{plant}} == 2 &amp;&amp; {{sun}} = 3" />
        <leadsTo subject="basil-withered" condition="{{plant}} == 2 &amp;&amp; {{water}} = 3" />

      <media />
    </subject>

    <subject id="basil-perfect" leadsTo="easy">
        <media>
            <video>
                <source file="media/3d_anim_growing_plant" extensions="mp4,webm" types="video/mp4,video/webm" />
            </video>
        </media>
    </subject>

    <subject id="basil-soaked" leadsTo="easy">
        <media>
            <image src="media/basil_soaked.png" duration="5" />
        </media>
    </subject>

    <subject id="basil-withered" leadsTo="easy">
        <media>
            <image src="media/basil_withered.png" duration="5" />
        </media>
    </subject>


    <subject id="perfect" leadsTo="easy">
      <media>
        <!-- <image src="media/perfect.jpg" duration="3" /> -->
        <youtube id="eKo5F87A8a0" startTime="5"/>
        <!-- <youtube id="eKo5F87A8a0" /> -->
      </media>
    </subject>

    <subject id="soaked" leadsTo="easy">
      <media>
        <image src="media/soaked.jpg" duration="3" />
        <!-- <youtube id="zytz31XrogE" /> -->
      </media>
    </subject>

    <subject id="withered" leadsTo="easy">
      <media>
        <image src="media/withered.jpg" duration="3" />
        <!-- <youtube id="CXKy2KeAzoE" /> -->
      </media>
    </subject>

    <subject id="no-grow" leadsTo="easy">
      <media>
        <image src="media/no-grow.jpg" duration="3" />
        <!-- <youtube id="CXKy2KeAzoE" /> -->
      </media>
    </subject>
  </playlist>
</ximpel>
